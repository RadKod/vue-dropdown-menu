!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).DropdownMenu=n()}(this,(function(){"use strict";function e(e,n,t,o,i,s,r,d,l,a){"boolean"!=typeof r&&(l=d,d=r,r=!1);const u="function"==typeof t?t.options:t;let p;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),o&&(u._scopeId=o),s?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=p):n&&(p=r?function(e){n.call(this,a(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,d(e))}),p)if(u.functional){const e=u.render;u.render=function(n,t){return p.call(t),e(n,t)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,p):[p]}return t}const n=e({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"rootRef",staticClass:"v-dropdown-menu",class:[e.activeClass,e.modeClass,e.dropupClass,e.directionClass]},["click"===e.menu.mode?[t("div",{ref:"triggerRef",staticClass:"v-dropdown-menu__trigger",on:{click:function(n){n.preventDefault(),e.menu.isOpen=!e.menu.isOpen}}},[e._t("trigger")],2),t("transition",{attrs:{name:e.menu.transition}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menu.isOpen,expression:"menu.isOpen"}],staticClass:"v-dropdown-menu__container",style:{"z-index":e.menu.containerZIndex}},[t("div",{staticClass:"v-dropdown-menu__header"},[e._t("header")],2),t("div",{staticClass:"v-dropdown-menu__body"},[e._t("body")],2),t("div",{staticClass:"v-dropdown-menu__footer"},[e._t("footer")],2)])])]:e._e(),"hover"===e.menu.mode?[t("div",{ref:"triggerRef",staticClass:"v-dropdown-menu__trigger",on:{mouseover:function(n){return n.preventDefault(),e.show.apply(null,arguments)},mouseleave:function(n){return n.preventDefault(),e.hide.apply(null,arguments)}}},[e._t("trigger")],2),t("transition",{attrs:{name:e.menu.transition}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menu.isOpen,expression:"menu.isOpen"}],staticClass:"v-dropdown-menu__container",style:{"z-index":e.menu.containerZIndex},on:{mouseover:function(n){return n.preventDefault(),e.show.apply(null,arguments)},mouseleave:function(n){return n.preventDefault(),e.hide.apply(null,arguments)}}},[t("div",{staticClass:"v-dropdown-menu__header"},[e._t("header")],2),t("div",{staticClass:"v-dropdown-menu__body"},[e._t("body")],2),t("div",{staticClass:"v-dropdown-menu__footer"},[e._t("footer")],2)])])]:e._e(),e.menu.overlay&&e.menu.closeOnClickOutside&&"click"===e.menu.mode?t("div",{directives:[{name:"show",rawName:"v-show",value:e.menu.isOpen,expression:"menu.isOpen"}],ref:"overlayRef",staticClass:"v-dropdown-menu__overlay",style:{"background-color":e.menu.overlayBgColor,"z-index":e.menu.overlayZIndex},on:{mousedown:function(n){return n.preventDefault(),e.hide.apply(null,arguments)}}}):e._e()],2)},staticRenderFns:[]},undefined,{name:"DropdownMenu",props:{isOpen:{type:Boolean,required:!1,default:!1},mode:{type:String,required:!1,default:"click"},dropup:{type:Boolean,required:!1,default:!1},direction:{type:String,required:!1,default:"left"},closeOnClickOutside:{type:Boolean,required:!1,default:!0},withDropdownCloser:{type:Boolean,required:!1,default:!1},containerZIndex:{type:String,required:!1,default:"994"},overlay:{type:Boolean,required:!1,default:!0},overlayBgColor:{type:String,required:!1,default:"rgba(0, 0, 0, 0.2)"},overlayZIndex:{type:String,required:!1,default:"992"},transition:{type:String,required:!1,default:"default"}},data(){return{baseClassName:"v-dropdown-menu",menu:{isOpen:this.isOpen,mode:this.mode,dropup:this.dropup,direction:this.direction,closeOnClickOutside:this.closeOnClickOutside,withDropdownCloser:this.withDropdownCloser,containerZIndex:this.containerZIndex,overlay:this.overlay,overlayBgColor:this.overlayBgColor,overlayZIndex:this.overlayZIndex,transition:this.transition}}},computed:{activeClass(){return this.menu.isOpen?`${this.baseClassName}--active`:null},modeClass(){return"click"===this.menu.mode?`${this.baseClassName}--mode-click`:`${this.baseClassName}--mode-hover`},dropupClass(){return this.menu.dropup?`${this.baseClassName}--dropup`:null},directionClass(){let e=null;return e="left"===this.menu.direction?`${this.baseClassName}--direction-left`:"center"===this.menu.direction?`${this.baseClassName}--direction-center`:`${this.baseClassName}--direction-right`,e}},watch:{isOpen(e){"click"===this.menu.mode&&(e?setTimeout((()=>{this.show()}),1):setTimeout((()=>{this.hide()}),1))},"menu.isOpen"(e){"click"===this.menu.mode&&(e?this.$emit("opened",this.$props):this.$emit("closed",this.$props))}},mounted(){this.dropdownCloser(),this.$nextTick((()=>{this.menu.closeOnClickOutside&&this.registerCloseDropdownOnClickOutside()})),this.closeDropdownOnPopState()},beforeDestroy(){this.destroyCloseDropdownOnClickOutside(),this.destroyCloseDropdownOnPopState()},methods:{show(){this.menu.isOpen=!0},hide(){this.menu.isOpen=!1},registerCloseDropdownOnClickOutside(){window.addEventListener("click",this.closeDropdownOnClickOutside)},closeDropdownOnClickOutside(e){this.menu.isOpen&&(this.$refs.rootRef.contains(e.target)||(this.menu.isOpen=!1))},destroyCloseDropdownOnClickOutside(){this.menu.closeOnClickOutside&&window.removeEventListener("click",this.closeDropdownOnClickOutside)},dropdownCloser(){if(this.menu.withDropdownCloser){this.$refs.rootRef.querySelectorAll("[dropdown-closer]").forEach((e=>{e.addEventListener("click",(()=>{this.menu.isOpen=!1}))}))}},closeDropdownOnPopState(){window.addEventListener("popstate",(()=>{this.menu.isOpen&&(this.menu.isOpen=!1)}))},destroyCloseDropdownOnPopState(){window.removeEventListener("popstate",this.closeDropdownOnPopState)}}},undefined,false,undefined,!1,void 0,void 0,void 0),t=function(e){t.installed||(t.installed=!0,e.component("DropdownMenu",n))},o={install:t};{let e=null;"undefined"!=typeof window?e=window.Vue:"undefined"!=typeof global&&(e=global.Vue),e&&e.use(o)}return n.install=t,n}));
